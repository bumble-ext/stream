<!doctype html>
<html>
<head>
  <meta charset='utf-8' />
  <title>@bumble/stream 0.0.1 | Documentation</title>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <link href='assets/bass.css' type='text/css' rel='stylesheet' />
  <link href='assets/style.css' type='text/css' rel='stylesheet' />
  <link href='assets/github.css' type='text/css' rel='stylesheet' />
  <link href='assets/split.css' type='text/css' rel='stylesheet' />
  <meta name='description' content='A simple API to work with events in the browser.'>
</head>
<body class='documentation m0'>
    <div class='flex'>
      <div id='split-left' class='overflow-auto fs0 height-viewport-100'>
        <div class='py1 px2'>
          <h3 class='mb0 no-anchor'>@bumble/stream</h3>
          <div class='mb1'><code>0.0.1</code></div>
          <input
            placeholder='Filter'
            id='filter-input'
            class='col12 block input'
            type='text' />
          <div id='toc'>
            <ul class='list-reset h5 py1-ul'>
              
                
                <li><a
                  href='#the-bumble-event-stream-api'
                  class="h5 bold black caps">
                  The Bumble Event Stream API
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#bumblestream'
                  class="">
                  BumbleStream
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#directcallback'
                  class="">
                  directCallback
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#bumblestreamchain'
                  class=" toggle-sibling">
                  BumbleStreamChain
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  <ul class='list-reset py1-ul pl1'>
                    <li class='h5'><span>Static members</span></li>
                    
                      <li><a
                        href='#bumblestreamchainmap'
                        class='regular pre-open'>
                        .map
                      </a></li>
                    
                      <li><a
                        href='#bumblestreamchainforeach'
                        class='regular pre-open'>
                        .forEach
                      </a></li>
                    
                      <li><a
                        href='#bumblestreamchainfilter'
                        class='regular pre-open'>
                        .filter
                      </a></li>
                    
                      <li><a
                        href='#bumblestreamchainclear'
                        class='regular pre-open'>
                        .clear
                      </a></li>
                    
                      <li><a
                        href='#bumblestreamchaincatch'
                        class='regular pre-open'>
                        .catch
                      </a></li>
                    
                      <li><a
                        href='#bumblestreamchainawait'
                        class='regular pre-open'>
                        .await
                      </a></li>
                    
                      <li><a
                        href='#bumblestreamchainawaitfilter'
                        class='regular pre-open'>
                        .awaitFilter
                      </a></li>
                    
                    </ul>
                  
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#bumble-stream-abstractions'
                  class="h5 bold black caps">
                  Bumble Stream Abstractions
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#listento'
                  class=" toggle-sibling">
                  listenTo
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  <ul class='list-reset py1-ul pl1'>
                    <li class='h5'><span>Static members</span></li>
                    
                      <li><a
                        href='#listentolistentochromeevent'
                        class='regular pre-open'>
                        .listenToChromeEvent
                      </a></li>
                    
                      <li><a
                        href='#listentolistentodomevent'
                        class='regular pre-open'>
                        .listenToDomEvent
                      </a></li>
                    
                    </ul>
                  
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#timeout'
                  class="">
                  timeout
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#interval'
                  class="">
                  interval
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#eventpromise'
                  class="">
                  EventPromise
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#debounce'
                  class="">
                  debounce
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#throttle'
                  class="">
                  throttle
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#then'
                  class="">
                  then
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#catch'
                  class="">
                  catch
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#clear'
                  class="">
                  clear
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#timeoutid'
                  class="">
                  timeoutId
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#resolve'
                  class="">
                  resolve
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#reject'
                  class="">
                  reject
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#withprev'
                  class="">
                  withPrev
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#withprevresult'
                  class="">
                  withPrevResult
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#withprevargs'
                  class="">
                  withPrevArgs
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#composehaschanged'
                  class="">
                  composeHasChanged
                  
                </a>
                
                </li>
              
            </ul>
          </div>
          <div class='mt1 h6 quiet'>
            <a href='https://documentation.js.org/reading-documentation.html'>Need help reading this?</a>
          </div>
        </div>
      </div>
      <div id='split-right' class='relative overflow-auto height-viewport-100'>
        
          
            <div class='keyline-top-not py2'>
  <section class='py2 clearfix'>

    <h2 id='the-bumble-event-stream-api' class='mt0'>
      The Bumble Event Stream API
    </h2>

    
      <p>Compose callbacks using a familiar method chaining pattern.</p>

    
  </section>
</div>
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='the-bumble-event-stream-api'>
      The Bumble Event Stream API
    </h3>
    
    
  </div>
  

  <p>Compose callbacks using a familiar method chaining pattern.</p>

 
   
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='bumblestream'>
      BumbleStream
    </h3>
    
    
  </div>
  

  <p>A configurable API with familiar methods that compose a callback function that can be passed to an event listener.</p>
<p>The attach function should return a clear function: a function that removes the listener.</p>

 
  
    <div class='pre p1 fill-light mt0'>BumbleStream(callback: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a>): <a href="#bumblestreamchain">BumbleStreamChain</a></div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>callback</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</code>
	    Pass to an event listener.

          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
  <td class='break-word'><span class='code bold'>callback.direct</span> <code class='quiet'><a href="#directcallback">directCallback</a></code>
  </td>
  <td class='break-word'><span>Use to directly configure a stream.
</span></td>
</tr>


              
            </tbody>
          </table>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#bumblestreamchain">BumbleStreamChain</a></code>:
        An object with familiar method names.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">const</span> listenToChromeEvent = <span class="hljs-function">(<span class="hljs-params">eventObject</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> BumbleStream(<span class="hljs-function"><span class="hljs-params">callback</span> =&gt;</span> {
    <span class="hljs-comment">// Add the composed callback to the event listeners.</span>
    eventObject.addListener(callback)
    <span class="hljs-comment">// Return a function to remove the callback</span>
    <span class="hljs-comment">// from the event listener.</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> eventObject.removeListener(callback)
  })
}</pre>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">interval</span>(<span class="hljs-params">time</span>) </span>{
  <span class="hljs-keyword">const</span> milliseconds = ms(time)

  <span class="hljs-keyword">return</span> BumbleStream(<span class="hljs-function"><span class="hljs-params">callback</span> =&gt;</span> {
    <span class="hljs-comment">// Create counter</span>
    <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>

    <span class="hljs-comment">// Start interval, pass count to callback, increment count</span>
    <span class="hljs-keyword">const</span> id = setInterval(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
      callback(count)
      count++
    }, milliseconds)

    <span class="hljs-comment">// Return function to stop interval</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> clearInterval(id)
  })
}</pre>
    
  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='directcallback'>
      directCallback
    </h3>
    
    
  </div>
  

  <p>Use to directly configure the BumbleStream.
Used internally by the async method.</p>

 
  
    <div class='pre p1 fill-light mt0'>directCallback(payload: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</div>
   
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a>
    </p>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>payload</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    The value BumbleStream uses internally.

          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
  <td class='break-word'><span class='code bold'>payload.result</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span>The value to pass to the next method callback.
</span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>payload.args</span> <code class='quiet'><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code>
  </td>
  <td class='break-word'><span>An array to pass to each method callback.
</span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>payload.use</span> <code class='quiet'><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>
  </td>
  <td class='break-word'><span>Will cause method callback to skip if false.
</span></td>
</tr>


              
            </tbody>
          </table>
          
        </div>
      
    </div>
  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>BumbleStream(<span class="hljs-function">(<span class="hljs-params">{direct}</span>) =&gt;</span> {
  <span class="hljs-comment">// Immediately execute composed callback</span>
  direct({
    <span class="hljs-attr">result</span>: <span class="hljs-number">123</span>,
    <span class="hljs-attr">args</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>],
    <span class="hljs-attr">use</span>: <span class="hljs-literal">true</span>,
  })

  <span class="hljs-comment">// Configure clearFn</span>
  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> clear()
})</pre>
    
  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='bumblestreamchain'>
      BumbleStreamChain
    </h3>
    
    
  </div>
  

  <p>The BumbleStreamChain composes a callback using
the familiar JS Array higher order function chain pattern.</p>

 
  
    <div class='pre p1 fill-light mt0'>BumbleStreamChain</div>
   
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='bumblestreamchainmap'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>map(fn)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Map changes result to the return value of mapFn.</p>

 
  
    <div class='pre p1 fill-light mt0'>map(fn: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a>): <a href="#bumblestreamchain">BumbleStreamChain</a></div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fn</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</code>
	    The return value is passed to the next method.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#bumblestreamchain">BumbleStreamChain</a></code>:
        

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>interval(<span class="hljs-string">'10s'</span>)
  .map(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-number">1</span>)
  .map(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> x + <span class="hljs-number">1</span>)
  .map(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'This should be 2'</span>, x)
  })</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='bumblestreamchainforeach'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>forEach(fn)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Use for effects. ForEach does not pass its return value to the next function.</p>

 
  
    <div class='pre p1 fill-light mt0'>forEach(fn: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a>): methods</div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fn</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</code>
	    The return value is ignored.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>methods</code>:
        BumbleStream methods object.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>interval(<span class="hljs-string">'10s'</span>)
  .map(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-number">1</span>)
  .forEach(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> count = x + <span class="hljs-number">1</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'This should be 2'</span>, count)
    <span class="hljs-keyword">return</span> count
  })
  .map(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'This should be 1'</span>, x)
  })</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='bumblestreamchainfilter'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>filter(predFn)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Filter stops further mapping
and returns the current value
if the predicate returns false.</p>

 
  
    <div class='pre p1 fill-light mt0'>filter(predFn: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>predFn</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</code>
	    Predicate.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        BumbleStream methods object.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>interval(<span class="hljs-string">'10s'</span>)
  <span class="hljs-comment">// This will skip the first 2 intervals</span>
  .filter(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> x &gt; <span class="hljs-number">2</span>)
  .forEach(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'This should be 3'</span>, x)
  })</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='bumblestreamchainclear'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>clear(predFn?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Clear removes the event listener and
continues down the map chain
if the predicate returns true.</p>
<p>It calls the function returned by attachFn.</p>

 
  
    <div class='pre p1 fill-light mt0'>clear(predFn: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a>?): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>predFn</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a>?)</code>
	    Predicate.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        BumbleStream methods object.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>interval(<span class="hljs-string">'10s'</span>)
  <span class="hljs-comment">// This will clear the interval on the 3rd time.</span>
  .clear(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> x &gt; <span class="hljs-number">2</span>)
  .forEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'I will log three times.'</span>)
  })</pre>
    
      
      <pre class='p1 overflow-auto round fill-light'>interval(<span class="hljs-string">'10s'</span>)
  <span class="hljs-comment">// This will clear the interval immediately.</span>
  .clear()
  .forEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'I will never log.'</span>)
  })</pre>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">const</span> clear = interval(<span class="hljs-string">'10s'</span>).clear
<span class="hljs-comment">//This will clear the interval when something fails to load.</span>
<span class="hljs-built_in">window</span>.onerror = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> clear()</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='bumblestreamchaincatch'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>catch(fn)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Catch could cause a call to filter to be skipped.
If this happens, the chain could begin to execute again.</p>

 
  
    <div class='pre p1 fill-light mt0'>catch(fn: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fn</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</code>
	    Called when an error is encountered.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        BumbleStream methods object.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>interval(<span class="hljs-string">'10s'</span>)
  .map(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Boom!'</span>)
  })
  .catch(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'The next line will say "Boom!"'</span>)
    <span class="hljs-built_in">console</span>.error(error.message)
  })</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='bumblestreamchainawait'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>await(asyncFn)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Map a function that returns a Promise.
Composes a new BumbleStream callback
to pass to the returned Promise.then().</p>

 
  
    <div class='pre p1 fill-light mt0'>await(asyncFn: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>asyncFn</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a>)</code>
	    Async Function.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        The BumbleStreamChain object.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>listenTo(<span class="hljs-built_in">window</span>, <span class="hljs-string">'onload'</span>)
  .map(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-string">'https://www.google.com'</span>)
  .await(fetch)
  .map(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(response.ok)
  })</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='bumblestreamchainawaitfilter'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>awaitFilter(asyncPredFn)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Evaluates a function that returns a predicate Promise
and stops further execution if the Promise resolves to false.</p>

 
  
    <div class='pre p1 fill-light mt0'>awaitFilter(asyncPredFn: function (any): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>asyncPredFn</span> <code class='quiet'>(function (any): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>)</code>
	    Async Predicate Function.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        The BumbleStreamChain object.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>listenTo(<span class="hljs-built_in">window</span>, <span class="hljs-string">'onload'</span>)
  .map(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-string">'https://www.google.com'</span>)
  .await.filter(fetch)
  .map(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(response.ok)
  })</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

        
          
            <div class='keyline-top-not py2'>
  <section class='py2 clearfix'>

    <h2 id='bumble-stream-abstractions' class='mt0'>
      Bumble Stream Abstractions
    </h2>

    
      <p>Use common browser APIs with the BumbleStream API.</p>

    
  </section>
</div>
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='bumble-stream-abstractions'>
      Bumble Stream Abstractions
    </h3>
    
    
  </div>
  

  <p>Use common browser APIs with the BumbleStream API.</p>

 
   
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='listento'>
      listenTo
    </h3>
    
    
  </div>
  

  <p>Map responses to events. Uses BumbleStream internally.</p>

 
  
    <div class='pre p1 fill-light mt0'>listenTo(target: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, args: ...any?): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>target</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    Either Chrome API Event or DOM Element.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>args</span> <code class='quiet'>(...any?)</code>
	    Event string or additional arguments.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        Returns a BumbleStream object.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>listenTo(chrome.runtime.onMessage).map(<span class="hljs-function">(<span class="hljs-params">{greeting}</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span>(greeting === <span class="hljs-string">'hello'</span>) {
    <span class="hljs-keyword">return</span> ({<span class="hljs-attr">greeting</span>: <span class="hljs-string">'goodbye'</span>})
  }
})</pre>
    
  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='listentolistentochromeevent'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>listenToChromeEvent(eventObject, args?)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Listen to one or multiple events on a DOM Element.</p>

 
  
    <div class='pre p1 fill-light mt0'>listenToChromeEvent(eventObject: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, args: ...any?): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>eventObject</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    A DOM Element.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>args</span> <code class='quiet'>(...any?)</code>
	    Additional arguments to spread into Event.addListener().

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        Returns a BumbleStream object.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">const</span> myDiv = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#mydiv'</span>)
listenToDomEvent(myDiv, <span class="hljs-string">'click'</span>)
  .map(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {})</pre>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">const</span> myDiv = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#mydiv'</span>)
listenToDomEvent(myDiv, [<span class="hljs-string">'click'</span>, <span class="hljs-string">'keypress'</span>])
  .map(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {})</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='listentolistentodomevent'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>listenToDomEvent(target, event)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Listen to one or multiple events on a DOM Element.</p>

 
  
    <div class='pre p1 fill-light mt0'>listenToDomEvent(target: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, event: (<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>)): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>target</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    A DOM Element.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>event</span> <code class='quiet'>((<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>))</code>
	    An event string or an array of event strings.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        Returns a BumbleStream object.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">const</span> myDiv = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#mydiv'</span>)
listenToDomEvent(myDiv, <span class="hljs-string">'click'</span>)
  .map(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {})</pre>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">const</span> myDiv = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#mydiv'</span>)
listenToDomEvent(myDiv, [<span class="hljs-string">'click'</span>, <span class="hljs-string">'keypress'</span>])
  .map(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {})</pre>
    
  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='timeout'>
      timeout
    </h3>
    
    
  </div>
  

  <p>Thenable setTimeout. Uses Promise internally.
The Promise resolves with undefined.</p>

 
  
    <div class='pre p1 fill-light mt0'>timeout(time: (<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>time</span> <code class='quiet'>((<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>))</code>
	    String description of time or milliseconds if number.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        Returns a thenable object for chaining.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>timeout(<span class="hljs-string">'10s'</span>).then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'It has been 10 seconds!'</span>)
})</pre>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// Use argument defaults to pass</span>
<span class="hljs-comment">// values when the promise resolves.</span>
timeout(<span class="hljs-string">'10s'</span>).then(<span class="hljs-function">(<span class="hljs-params">result = <span class="hljs-number">5</span></span>) =&gt;</span> {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'The result is'</span>, result)
}) <span class="hljs-comment">// The result is 5</span></pre>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// Call resolve to resolve the promise immediately.</span>
<span class="hljs-comment">// The promise will resolve with the value you pass to it.</span>
timeout(<span class="hljs-string">'10s'</span>).then(<span class="hljs-function">(<span class="hljs-params">result = <span class="hljs-number">5</span></span>) =&gt;</span> {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'The result is'</span>, result)
}).resolve(<span class="hljs-number">6</span>) <span class="hljs-comment">// The result is 6</span></pre>
    
  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='interval'>
      interval
    </h3>
    
    
  </div>
  

  <p>Mappable setInterval. Uses BumbleStream internally.</p>

 
  
    <div class='pre p1 fill-light mt0'>interval(time: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>time</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    Represents time between intervals.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        Returns a BumbleStreamChain object.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>interval(<span class="hljs-string">'10s'</span>).forEach(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> {
  <span class="hljs-built_in">console</span>.log(x, <span class="hljs-string">'times'</span>)
})</pre>
    
  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='eventpromise'>
      EventPromise
    </h3>
    
    
  </div>
  

  <p>Resolves the first time the event occurs. The event listener is removed after the Promise resolves.</p>

 
  
    <div class='pre p1 fill-light mt0'>EventPromise</div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>args</span> <code class='quiet'>(...any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;eventResults></code>:
        Resolves with whatever the event passes the callback.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">const</span> eventPromise = EventPromise(chrome.someEvent)

eventPromise.then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-comment">// This will only be called</span>
  <span class="hljs-comment">// the first time the event occurs.</span>
})</pre>
    
  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='debounce'>
      debounce
    </h3>
    
    
  </div>
  

  <p>A Promise based debounce function that resolves with true
only after the function has not been called
for a certain amount of time.
When the debouncer is called a second time,
the first promise immediately resolves to false.</p>

 
  
    <div class='pre p1 fill-light mt0'>debounce</div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fn</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>debounceCallback</span> <code class='quiet'>((function (any): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>))</code>
	    Callback for each time the debouncer is called.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>function (any): TimeoutPromise&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>></code>:
        Returns a debouncer function.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// Debounce for 5ms</span>
<span class="hljs-keyword">const</span> debouncer = debounce(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-number">5</span>)
debouncer().then() <span class="hljs-comment">// Resolves to false</span>
debouncer().then() <span class="hljs-comment">// Resolves to true</span></pre>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">const</span> debouncer = debounce(<span class="hljs-function"><span class="hljs-params">text</span> =&gt;</span> {
  <span class="hljs-keyword">if</span> (text === <span class="hljs-string">''</span>) {
    <span class="hljs-comment">// Resolve both the pending promise</span>
    <span class="hljs-comment">// and this one to false</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  }
  <span class="hljs-keyword">if</span> (text.includes(<span class="hljs-string">'\n'</span>)) {
    <span class="hljs-comment">// Resolve both promises to true</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// Resolve the prev promise to false</span>
    <span class="hljs-comment">// And resolve the current promise in 5ms</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">5</span>
  }
})

debouncer(<span class="hljs-string">'still typing'</span>) <span class="hljs-comment">// Debounce</span>
debouncer(<span class="hljs-string">''</span>) <span class="hljs-comment">// Don't continue, no input</span>
debouncer(<span class="hljs-string">'done typing\n'</span>) <span class="hljs-comment">// Resolve immediately</span></pre>
    
  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='throttle'>
      throttle
    </h3>
    
    
  </div>
  

  
 
  
    <div class='pre p1 fill-light mt0'>throttle</div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fn</span> <code class='quiet'>((function (any): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>))</code>
	    Callback for each time the throttler is called.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>function (any): TimeoutPromise&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>></code>:
        Returns a throttler function.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// Debounce for 5ms</span>
<span class="hljs-keyword">const</span> throttler = throttle(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-number">5</span>)
throttler().then() <span class="hljs-comment">// Resolves to true after 5ms</span>
throttler().then() <span class="hljs-comment">// Resolves to false now</span></pre>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">const</span> throttler = throttle(<span class="hljs-function"><span class="hljs-params">text</span> =&gt;</span> {
  <span class="hljs-keyword">if</span> (text === <span class="hljs-string">''</span>) {
    <span class="hljs-comment">// Resolve the previous to false now</span>
    <span class="hljs-comment">// Resolve the current promise to false now</span>
    <span class="hljs-comment">// Clear the timeout</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  }
  <span class="hljs-keyword">if</span> (text.includes(<span class="hljs-string">'\n'</span>)) {
    <span class="hljs-comment">// Resolve the previous promise to false now</span>
    <span class="hljs-comment">// and the current promise to true now</span>
    <span class="hljs-comment">// Clear the timeout</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// Resolve the previous promise to false now</span>
    <span class="hljs-comment">// Resolve the current promise to true after 5ms</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">5</span>
  }
})

throttler(<span class="hljs-string">'still typing'</span>) <span class="hljs-comment">// Resolve every 5ms</span>
throttler(<span class="hljs-string">''</span>) <span class="hljs-comment">// Resolve both to false now</span>
throttler(<span class="hljs-string">'done typing\n'</span>) <span class="hljs-comment">// Resolve both to true now</span></pre>
    
  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='then'>
      then
    </h3>
    
    
  </div>
  

  <p>Add another function to the Promise chain.</p>

 
  
    <div class='pre p1 fill-light mt0'>then(fn: any): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fn</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        The methods object

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>timeout(<span class="hljs-string">'5s'</span>).then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'5 seconds have passed.'</span>)
})</pre>
    
  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='catch'>
      catch
    </h3>
    
    
  </div>
  

  <p>Catch a rejected promise.</p>

 
  
    <div class='pre p1 fill-light mt0'>catch(fn: any): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fn</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        The methods object

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>timeout(<span class="hljs-string">'5s'</span>)
  .then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">throw</span> <span class="hljs-string">'No, no quiero.'</span>
  })
  .catch(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Just do it.'</span>)
  })</pre>
    
  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='clear'>
      clear
    </h3>
    
    
  </div>
  

  <p>Stop the timer.
The promise will remain pending,
and can be resolved and rejected.</p>

 
  
    <div class='pre p1 fill-light mt0'>clear()</div>
   
  
  

  
  
  
  
  
  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">const</span> timer = timeout(<span class="hljs-string">'5s'</span>)
timer.clear()</pre>
    
  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='timeoutid'>
      timeoutId
    </h3>
    
    
  </div>
  

  <p>The id returned by setTimeout</p>

 
  
    <div class='pre p1 fill-light mt0'>timeoutId</div>
   
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='resolve'>
      resolve
    </h3>
    
    
  </div>
  

  <p>Clear the timeout and resolve the promise immediately with the parameter value.</p>

 
  
    <div class='pre p1 fill-light mt0'>resolve(value: any): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a></div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>value</span> <code class='quiet'>(any)</code>
	    The value to pass to resolve().

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a></code>:
        Returns undefined

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>timeout(<span class="hljs-string">'5s'</span>).resolve(<span class="hljs-string">'Done!'</span>)</pre>
    
  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='reject'>
      reject
    </h3>
    
    
  </div>
  

  <p>Clear the timeout and resolve the promise immediately with the parameter value.</p>

 
  
    <div class='pre p1 fill-light mt0'>reject(value: any): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a></div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>value</span> <code class='quiet'>(any)</code>
	    The value to pass to reject().

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a></code>:
        Returns undefined

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'>timeout(<span class="hljs-string">'5s'</span>).reject(<span class="hljs-string">'No soup for you!'</span>)</pre>
    
  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='withprev'>
      withPrev
    </h3>
    
    
  </div>
  

  <p>Create a function that performs an operation on the first arguments from the current and previous calls.
Note: The state maintained by this function means that it should be composed outside the final function.</p>

 
  
    <div class='pre p1 fill-light mt0'>withPrev</div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fn</span> <code class='quiet'>(function (a, b))</code>
	    Callback

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>initialValue</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>function (a)</code>:
        Calls the callback with both the first argument from the current and previous calls.

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// Set up withPrev to return true</span>
<span class="hljs-comment">// if previous and current arguments are not equal</span>
<span class="hljs-keyword">const</span> hasChanged = withPrev(not(isEqual))</pre>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// Previous call argument is undefined</span>
hasChanged(<span class="hljs-number">5</span>) <span class="hljs-comment">// -&gt; true</span></pre>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// Previous and current calls with same arguments</span>
hasChanged(<span class="hljs-number">5</span>) <span class="hljs-comment">// -&gt; true</span>
hasChanged(<span class="hljs-number">5</span>) <span class="hljs-comment">// -&gt; false</span></pre>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// Previous and current calls with different arguments</span>
hasChanged(<span class="hljs-number">5</span>) <span class="hljs-comment">// -&gt; true</span>
hasChanged(<span class="hljs-number">6</span>) <span class="hljs-comment">// -&gt; true</span></pre>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// Previous call argument is undefined</span>
hasChanged(<span class="hljs-literal">undefined</span>) <span class="hljs-comment">// -&gt; false</span></pre>
    
  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='withprevresult'>
      withPrevResult
    </h3>
    
    
  </div>
  

  <p>Create a reducer function that performs an operation on the first current argument and previous result.</p>

 
  
    <div class='pre p1 fill-light mt0'>withPrevResult</div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fn</span> <code class='quiet'>(function (a, b))</code>
	    Callback

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>initialValue</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>function (a)</code>:
        Calls the callback with both the current argument and the previous result

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// Set up withPrev to return true</span>
<span class="hljs-comment">// if previous and current arguments are not equal</span>
<span class="hljs-keyword">const</span> sum = withPrevResult(add, <span class="hljs-number">0</span>)</pre>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// Add to initial value</span>
sum(<span class="hljs-number">5</span>) <span class="hljs-comment">// -&gt; 5</span>
<span class="hljs-comment">// Add to previous result</span>
sum(<span class="hljs-number">6</span>) <span class="hljs-comment">// -&gt; 11</span></pre>
    
  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='withprevargs'>
      withPrevArgs
    </h3>
    
    
  </div>
  

  <p>Create a function that performs an operation on the current and previous call arguments</p>

 
  
    <div class='pre p1 fill-light mt0'>withPrevArgs</div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fn</span> <code class='quiet'>(function (<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;a>, <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;b>))</code>
	    Callback

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>initialValues</span> <code class='quiet'>(...any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>:
        Calls the callback with both the current and previous call arguments

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">const</span> logPrevAndCurrentArgs = withPrevArgs(<span class="hljs-function">(<span class="hljs-params">prev, current</span>) =&gt;</span> {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'previous args:'</span>, prev)
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'current args:'</span>, current)
}, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])

listenTo(event)
  .forEach(logPrevAndCurrentArgs)

<span class="hljs-comment">// First event:</span>
<span class="hljs-comment">// previous args: [1, 2, 3]</span>
<span class="hljs-comment">// current args: [4, 5, 6]</span>

<span class="hljs-comment">// Second event:</span>
<span class="hljs-comment">// previous args: [4, 5, 6]</span>
<span class="hljs-comment">// current args: [7, 8, 9]</span></pre>
    
  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='composehaschanged'>
      composeHasChanged
    </h3>
    
    
  </div>
  

  <p>Create a function that returns true if this
call's argument is different than the last call.
Maintains own state using a closure.
Instantiate for each place you use it.</p>

 
  
    <div class='pre p1 fill-light mt0'>composeHasChanged</div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fn</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>:
        Instance of hasChanged

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">const</span> hasChanged = createHasChanged()</pre>
    
  

  

  

  
</section>

        
      </div>
    </div>
  <script src='assets/anchor.js'></script>
  <script src='assets/split.js'></script>
  <script src='assets/site.js'></script>
</body>
</html>
